<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Typing Game</title>
  <style>
    * {
        box-sizing: border-box; 
    }
    body {
        text-align: center;
        margin: 0;
    }
    #main {
        display: flex;
        min-height: calc(100vh - 40vh);
    }
    #main > article {
        flex: 1;
    }
    #main > nav, 
    #main > aside {
        flex: 0 0 20vw;
        background: beige;
    }
    #main > nav {
        order: -1;
    }
    header, footer, article, nav, aside {
        padding: 1em;
    }
    header, footer {
        background: yellowgreen;
        height: 20vh;
    }

    h2 {
        min-height: 50px;
    }
    img {
        max-width: 30%;
        height: auto;
    }

  </style>
</head>

<body>
    <header>
        <h1>Fight the Monster!</h1>
    </header>
    <div id="main">
        <article>
            <img src="/figures/monster/monster_1.png" alt="monster">
            <h2 id="targetWord" style="font-size: 24px; padding: 10px;"></h2>
            <h2 id="wordWritten" style="font-size: 24px; border: 1px solid #000; padding: 10px;"></h2>
        </article>
        
        <nav>Nav</nav>
        <aside>Aside</aside>
    </div>
    <footer>Footer</footer>
  </body>

<body>
  

  <script>
    const words = ["programming", "javascript", "developer", "keyboard", "challenge", "coding", "html", "css", "gpt", "challenge"];
    let currentWordIndex = 0;
    let targetWord = words[currentWordIndex];

    // Display the initial word
    displayWord();

    // Listen for key presses
    document.addEventListener('keydown', handleKeyPress);

    function displayWord() {
      document.getElementById('targetWord').textContent = targetWord;
    }

    function displayWritten(char) {
        if (char === "") {
            document.getElementById('wordWritten').textContent = "";
        } else {
            document.getElementById('wordWritten').textContent = document.getElementById('wordWritten').textContent + char;
        }
    }

    function handleKeyPress(event) {
      const typedChar = String.fromCharCode(event.keyCode).toLowerCase();
      const currentChar = targetWord.charAt(0).toLowerCase();

      if (typedChar === currentChar) {
        // Correct key pressed
        displayWritten(currentChar);
        targetWord = targetWord.substring(1); // Remove the first character
        displayWord();

        if (targetWord === "") {
          // Move to the next word when the current one is completed
          displayWritten("");
          currentWordIndex = (currentWordIndex + 1) % words.length;
          targetWord = words[currentWordIndex];
          displayWord();
        }
      }
    }
  </script>
</body>
</html>